# 测试与校验流程

## 自动化命令

```bash
pnpm lint           # ESLint，包含 TypeScript/React 规则
pnpm prettier:check # Prettier 校验（CI 复用）
# 当前无单元测试框架，可按需补充 Vitest/Jest 并扩展 pnpm scripts
```

## 手动验证清单

- 搜索 → 商品详情 → 加入购物车 → 查看购物车 → 结算页。
- 优惠券：兑换、应用、移除全流程，验证价格更新与错误提示。
- 账户中心：资料编辑、地址增删改、默认地址切换、问卷填写/提交、身份验证占位流程。
- 新闻/内容页：检查 CMS 型页面在 `/d` 外壳的渲染与导航。
- 主题与语言：浅色/深色切换，多语言文案展示（若启用）。
- 移动端回归：待 `/m` 外壳上线后，用移动 UA 验证路由、导航、购物流程。

## 发布前确认

- `pnpm build && pnpm start` 可正常启动，Middleware 分流在生产模式下仍生效。
- `.env.local` 未被提交，环境变量在部署平台正确配置。
- `docs/backend-handoff/` 内资料随迭代更新，PR 描述包含关键字段变化。
- 若接入真实接口：准备后端健康检查地址、限流策略、错误码一览，纳入验收。

## 质量建议

- 建议在关键流程引入前端埋点或日志，帮助后端观察购物/结算漏斗。
- 对接真实接口后，可规划最小集成测试（如下单、兑换优惠券）以便回归。
